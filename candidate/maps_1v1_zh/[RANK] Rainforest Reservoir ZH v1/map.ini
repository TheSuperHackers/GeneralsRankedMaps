WaterTransparency
  TransparentWaterMinOpacity = 0.5
  TransparentWaterDepth = 1
  StandingWaterTexture = TSWater02.tga
  StandingWaterColor = R:45 G:230 B: 240
  RadarWaterColor = R:45 G: 230 B: 240
End

Object ParticleTestObject
 ReplaceModule ModuleTag_01
  Draw                = W3DModelDraw ModuleTag_01_Override
    ConditionState    = NONE ;100%
      Model           = NONE
      ParticleSysBone = WaterSpray01 DamMist
      ParticleSysBone = WaterSpray02 DamMist
    End
    ConditionState    = DAMAGED ;50%
      Model           = NONE
      ParticleSysBone = WaterSpray01 WaterSpraySplash
      ParticleSysBone = WaterSpray02 WaterSpraySplash
      ParticleSysBone = WaterSpray03 WaterSpraySplash

    End
    ConditionState    = REALLYDAMAGED ;25%
      Model           = NONE
      ParticleSysBone = WATERSPOUT DrainPipeWater1
      ParticleSysBone = WATERSPOUT DrainPipeWater2
    End
    ConditionState    = RUBBLE ;Dead
      Model           = NONE
    End
  End
 End
End


ParticleSystem WaterSpray_New
  Priority = CRITICAL
  Shader = ALPHA
  Type = PARTICLE
  ParticleName = EXWater01.tga
  AngleZ = 0 1
  AngularRateZ = -.05 .05
  AngularDamping = .99 1
  VelocityDamping = 1 1
  Gravity = -0.10
  Lifetime = 50 50
  SystemLifetime = 180 ;450
  Size = 40 50
  SizeRate = 1 1
  SizeRateDamping = 1 1 
  Alpha1 = 0 0 0
  Alpha2 = 1 1 5
  Alpha3 = 0 0 50
  Color1 = R:255 G:255 B:255 0
  BurstDelay = 1 1
  BurstCount = 1 1
  VelocityType = ORTHO
  VelOrthoX = -1 1
  VelOrthoY = -3 -5
  VelOrthoZ = 0 0
  VolumeType = CYLINDER
  VolCylinderRadius = 4
  VolCylinderLength = 0
End

ParticleSystem WaterSpraySmall_New
  Priority = CRITICAL
  Shader = ALPHA
  Type = PARTICLE
  ParticleName = EXWater01.tga
  AngleZ = 0 1
  AngularRateZ = -.05 .05
  AngularDamping = .99 1
  VelocityDamping = 1 1
  Gravity = -0.10
  Lifetime = 50 50
  SystemLifetime = 120 ;450
  Size = 20 30
  SizeRate = 1 1
  SizeRateDamping = 1 1 
  Alpha1 = 0 0 0
  Alpha2 = 1 1 5
  Alpha3 = 0 0 50
  Color1 = R:255 G:255 B:255 0
  BurstDelay = 1 1
  BurstCount = 1 1
  InitialDelay = 150 150
  VelocityType = ORTHO
  VelOrthoX = -1 1
  VelOrthoY = -2 -2.7
  VelOrthoZ = 0 0
  VolumeType = LINE
  VolLineStart = X:0 Y:5 Z:-10
  VolLineEnd = X:0 Y:-5 Z:-10
End

ParticleSystem WaterSprayTiny_New
  Priority = CRITICAL
  Shader = ALPHA
  Type = PARTICLE
  ParticleName = EXWater01.tga
  AngleZ = 0 1
  AngularRateZ = -.05 .05
  AngularDamping = .99 1
  VelocityDamping = 1 1
  Gravity = -.06
  Lifetime = 50 50
  SystemLifetime = 250 250
  Size = 18 25
  StartSizeRate = -.01 -.02
  SizeRate = 1 1
  SizeRateDamping = 1 1 
  Alpha1 = 0 0 0
  Alpha2 = 1 1 5
  Alpha3 = 0 0 50
  Color1 = R:255 G:255 B:255 0
  BurstDelay = 0 0
  BurstCount = 1 3
  InitialDelay = 200 200
  VelocityType = ORTHO
  VelOrthoX = -.8 .8
  VelOrthoY = -1.5 -2
  VelOrthoZ = 0 0
  VolumeType = CYLINDER
  VolCylinderRadius = 30
  VolCylinderLength = 0
End


ParticleSystem DamMist_New
  Priority = AREA_EFFECT
  Shader = ALPHA
  Type = PARTICLE
  ParticleName = EXCloud02.tga
  AngleZ = 0 1
  AngularRateZ = -.03 .03
  AngularDamping = .96 .99
  VelocityDamping = .8 .88
  Gravity = .1
  Lifetime = 140 140
  SystemLifetime = 450
  Size = 15 20
  SizeRate = 5 10
  SizeRateDamping = .80 .88
  Alpha1 = 0 0 0
  Alpha2 = 1 1 15
  Alpha3 = 0 0 140
  Color1 = R:206 G:238 B:255 0
  BurstDelay = 3 3
  BurstCount = 1 1
  InitialDelay = 20 20
  DriftVelocity = X:0 Y:0 Z:.3
  VelocityType = OUTWARD
  VelOutward = -2 2
  VelOutwardOther = 0 0
  VolumeType = LINE
  VolLineStart = X:-60 Y:0 Z:-20
  VolLineEnd = X:75. Y:0 Z:-20
  IsHollow = Yes
End


Object Dam
 RemoveModule ModuleTag_01
 RemoveModule ModuleTag_04
 AddModule
  Draw                = W3DModelDraw ModuleTag_01
    ConditionState    = NONE
      Model           = CBDam   
      ParticleSysBone = Spray01 DamOverflow
      ParticleSysBone = Spray03 DamOverflow
      ParticleSysBone = Spray05 DamOverflow
      ParticleSysBone = Spray06 DamWavesOutward
    End               
    ConditionState    = DAMAGED
      Model           = CBDam_D
      ParticleSysBone = Spray04 DamOverflow
      ParticleSysBone = Spray07 DamOverflow
      ParticleSysBone = Spray08 DamOverflow
      ParticleSysBone = WaterSpray01 WaterSpraySplash
      ParticleSysBone = WaterSpray02 WaterSpraySplash
      ParticleSysBone = WaterSpray03 WaterSpraySplash
      ParticleSysBone = Spray08 DamWavesOutward
    End               
    ConditionState    = REALLYDAMAGED
      Model           = CBDam_E
      Animation       = CBDam_E.CBDam_E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WaterSpray01 WaterSpraySplash
      ParticleSysBone = WaterSpray02 WaterSpraySplash
      ParticleSysBone = WaterSpray04 WaterSpraySplash
      ParticleSysBone = Spray03 DamWavesOutward
      ParticleSysBone = WaterSprayBig01 WaterSpray
    End               
    ConditionState    = RUBBLE
      Model           = CBDam_R
      Animation       = CBDam_R.CBDam_R
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WaterSpray01 WaterSpray_New
      ParticleSysBone = WaterSpray02 WaterSpray_New
      ParticleSysBone = WaterSpray03 WaterSpray_New
      ParticleSysBone = WaterSpray01 WaterSpraySmall_New
      ParticleSysBone = WaterSpray02 WaterSpraySmall_New
      ParticleSysBone = WaterSpray03 WaterSpraySmall_New
      ParticleSysBone = WaterSpray01 WaterSprayTiny_New
      ParticleSysBone = WaterSpray01 DamMist_New
    End
  End
 End
End
